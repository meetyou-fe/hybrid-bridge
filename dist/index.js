!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){if(!window||!document)throw new TypeError("browser required");!function(t){function r(e){t.console&&t.console.log(e)}function i(e){var t=l+e.method;if(e.data){var n=JSON.stringify(e.data),r=d.urlsafe_b64encode(n);t+="?params="+r}var i=document.createElement("iframe");i.style.display="none",i.src=t,i.onload=function(){setTimeout(function(){i.remove()},0)},document.getElementsByTagName("body")[0].appendChild(i)}function o(e,t){var n={method:e,data:t};i(n)}function a(e){i(e)}function c(e){var t={method:"_unlisten",data:{method:e}};i(t)}function s(e,t){for(var n in t)g.call(t,n)&&(e[n]=t[n]);return e}function u(){}var d=n(2),f=t.HybridBridge||{},l="hybrid-bridge://",h=[],p={},v={},g=Object.prototype.hasOwnProperty;f.isReady=!1,f.version=n(1).version;var b={debug:!1,scheme:l};f.init=function(e){if(e=e||{},this.isReady)return void r("init fn shuold call once");var t=s(b,e);for(this.config=t;h.length;){var n=h[0];"function"==typeof n?n.apply(this,arguments):u.apply(this,arguments),h.shift(h[0])}this.isReady=!0;var i=document.createEvent("Events");return i.initEvent("onHybridBridgeInit"),i.bridge=this,document.dispatchEvent(i),this},f.ready=function(e){return h.push(e),this},f.error=function(){},f.unlisten=function(e){c(e),delete v[e]},f.invoke=function(e,t){o(e,t)},f.wait=function(e,t,n){var r=(new Date).getTime(),i=e+"-"+r,a={callbackId:i,callback:n,inputData:t,outputData:null,start:r,finish:null,_complete:function(){},timeout:1e3};return p[e]=a,o(e,t),this},f.dispatchWait=function(e){var t=p[e];return t&&t.callback&&(t.callback.apply(this,arguments),delete p[e]),this},f.listen=function(e,t,n){var r=v[e];return r||(r={method:e,data:t,listenList:[]}),r.listenList.push(t),r.callback=n,v[e]=r,a(r),this},f.dispatchListener=function(e){var t=v[e];if(t){var n=t.callback;n&&n.apply(this,arguments)}};var m=document.createEvent("Events");m.initEvent("onHybridBridgeReady"),m.bridge=f,document.dispatchEvent(m),t.HybridBridge=f,e.exports=f}(window,document)},function(e,t){e.exports={name:"meiyou-hybrid-bridge",version:"1.0.0",description:"bridge for hybrid app",main:"./dist/index.js",scripts:{build:"webpack -p",test:'echo "Error: no test specified" && exit 1'},repository:{type:"git",url:"git+https://github.com/meiyou-fe/hybrid-bridge.git"},author:"inickel",license:"ISC",bugs:{url:"https://github.com/meiyou-fe/hybrid-bridge/issues"},homepage:"https://github.com/meiyou-fe/hybrid-bridge#readme",dependencies:{"meiyou-base64":"git+https://github.com/meiyou-fe/base64.git"},devDependencies:{eslint:"^2.7.0","json-loader":"^0.5.4",webpack:"^1.12.15"}}},function(e,t,n){(function(t){(function(){var t=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],n=function(e){for(var t=new Array;e>0;){var n=e%2;e=Math.floor(e/2),t.push(n)}return t.reverse(),t},r=function(e){for(var t=0,n=0,r=e.length-1;r>=0;--r){var i=e[r];1==i&&(t+=Math.pow(2,n)),++n}return t},i=function(e,t){for(var n=8-(e+1)+6*(e-1),r=t.length,i=n-r;--i>=0;)t.unshift(0);for(var o=[],a=e;--a>=0;)o.push(1);o.push(0);for(var c=0,s=8-(e+1);s>c;++c)o.push(t[c]);for(var u=0;e-1>u;++u){o.push(1),o.push(0);for(var d=6;--d>=0;)o.push(t[c++])}return o},o=function(e){for(var o=[],a=[],c=0,s=e.length;s>c;++c){var u=e.charCodeAt(c),d=n(u);if(128>u){for(var f=8-d.length;--f>=0;)d.unshift(0);a=a.concat(d)}else u>=128&&2047>=u?a=a.concat(i(2,d)):u>=2048&&65535>=u?a=a.concat(i(3,d)):u>=65536&&2097151>=u?a=a.concat(i(4,d)):u>=2097152&&67108863>=u?a=a.concat(i(5,d)):u>=4e6&&2147483647>=u&&(a=a.concat(i(6,d)))}for(var l=0,c=0,s=a.length;s>c;c+=6){var h=c+6-s;2==h?l=2:4==h&&(l=4);for(var p=l;--p>=0;)a.push(0);o.push(r(a.slice(c,c+6)))}for(var v="",c=0,s=o.length;s>c;++c)v+=t[o[c]];for(var c=0,s=l/2;s>c;++c)v+="=";return v},a=function(e){var i=e.length,o=0;"="==e.charAt(i-1)&&("="==e.charAt(i-2)?(o=4,e=e.substring(0,i-2)):(o=2,e=e.substring(0,i-1)));for(var a=[],c=0,s=e.length;s>c;++c)for(var u=e.charAt(c),d=0,f=t.length;f>d;++d)if(u==t[d]){var l=n(d),h=l.length;if(6-h>0)for(var p=6-h;p>0;--p)l.unshift(0);a=a.concat(l);break}o>0&&(a=a.slice(0,a.length-o));for(var v=[],g=[],c=0,s=a.length;s>c;)if(0==a[c])v=v.concat(r(a.slice(c,c+8))),c+=8;else{for(var b=0;s>c&&1==a[c];)++b,++c;for(g=g.concat(a.slice(c+1,c+8-b)),c+=8-b;b>1;)g=g.concat(a.slice(c+2,c+8)),c+=8,--b;v=v.concat(r(g)),g=[]}for(var m="",c=0;c<v.length;c++)m+=String.fromCharCode(v[c]);return m},c=function(e){return o(e).replace("+","-").replace("/","_")},s=function(e){return a(e.replace("-","+").replace("_","/"))},u={encode:o,decode:a,urlsafe_b64encode:c,urlsafe_b64decode:s};e.exports=u}).call(function(){return this||("undefined"!=typeof window?window:t)})}).call(t,function(){return this}())}]);